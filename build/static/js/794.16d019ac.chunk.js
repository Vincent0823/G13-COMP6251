"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[794],{77832:function(e,r,s){s.d(r,{Z:function(){return l}});var t=s(29439),i=s(72791),a=s(34093),c="CarouselBox_carouselBox__YtwBr",n="CarouselBox_img__M-xLl",o=s(80184);var l=function(e){var r=(0,i.useState)([{path:"",key:1,alt:""}]),s=(0,t.Z)(r,2),l=s[0],u=s[1],d=(0,i.useState)(!1),v=(0,t.Z)(d,2),m=v[0],p=v[1];return(0,i.useEffect)((function(){p(e.autoplay);var r=[];if("object"!==typeof e.imgs)r.push({key:0,path:e.imgs,alt:"0th"});else for(var s in e.imgs){var t={key:s,path:e.imgs[s],alt:"".concat(s,"th")};r.push(t)}u(r)}),[]),(0,o.jsx)(a.Z,{className:c,autoplay:m,autoplaySpeed:2e3,dotPosition:"bottom",children:l.map((function(e){return(0,o.jsx)("div",{onClick:function(){return r=e.key,void console.log("User click img number ",r);var r},children:(0,o.jsx)("img",{className:n,src:e.path,alt:e.alt})},e.key)}))})}},50792:function(e,r,s){var t=s(29439),i=s(72791),a=s(67174),c=(s(50660),s(80184));r.Z=function(e){var r=(0,i.useState)(""),s=(0,t.Z)(r,2),n=s[0],o=s[1];return(0,i.useEffect)((function(){void 0!==e.service.categoryid&&null!==e.service.categoryid&&o(e.categoryOptions[e.service.categoryid.toString()])}),[e.categoryOptions]),e.isFullDetail?(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:e.service.servicename}),(0,c.jsxs)(a.Z,{children:[(0,c.jsx)(a.Z.Item,{label:"service ID",children:e.service.serviceid}),(0,c.jsx)(a.Z.Item,{label:"provider ID",children:e.service.providerid})]}),(0,c.jsxs)(a.Z,{children:[(0,c.jsx)(a.Z.Item,{label:"prices",children:e.service.prices}),(0,c.jsx)(a.Z.Item,{label:"category",children:n})]}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(a.Z.Item,{label:"Available Time",children:e.service.availableservicetime})}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(a.Z.Item,{label:"Description",children:e.service.description})}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(a.Z.Item,{label:"Arearscover",children:e.service.arearscover})})]}):(0,c.jsxs)("div",{children:[(0,c.jsxs)(a.Z,{children:[(0,c.jsx)(a.Z.Item,{label:"prices",children:e.service.prices}),(0,c.jsx)(a.Z.Item,{label:"category",children:n})]}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(a.Z.Item,{label:"Description",children:e.service.description})}),(0,c.jsx)(a.Z,{children:(0,c.jsx)(a.Z.Item,{label:"Arearscover",children:e.service.arearscover})})]})}},17794:function(e,r,s){s.r(r),s.d(r,{default:function(){return U}});var t=s(1413),i=s(74165),a=s(15861),c=s(29439),n=s(57689),o={serviceDetail:"serviceDetailPage_serviceDetail__ZL09q",part:"serviceDetailPage_part__xvBeK",serviceName:"serviceDetailPage_serviceName__n3bsW"},l=s(72791),u=s(95058),d=s(78792),v=s(89367),m=s(2962),p={},x=s(80184);var h=function(e){var r=e.reviews;return(0,x.jsx)("div",{className:p.reviewList,children:(0,x.jsx)(d.ZP,{itemLayout:"vertical",dataSource:r,renderItem:function(e){return(0,x.jsxs)(d.ZP.Item,{className:p.item,extra:(0,x.jsx)(v.Z,{value:e.rate}),actions:[],children:[(0,x.jsx)(d.ZP.Item.Meta,{avatar:(0,x.jsx)(m.C,{src:"https://xsgames.co/randomusers/avatar.php?g=pixel&key=".concat(e.customerid)}),title:(0,x.jsx)("p",{children:e.email}),description:(0,x.jsxs)("p",{children:["customer ID ",e.customerid]})}),e.comment]},e.reviewid)}})})},f=function(e){console.log(e)};var j=function(e){var r=[{label:"Description",key:0,children:(0,x.jsx)("div",{children:e.service.description})},{label:"Available Time",key:1,children:(0,x.jsx)("div",{children:e.service.availableservicetime})},{label:"Reviews",key:2,children:(0,x.jsx)(h,{reviews:e.reviews})}];return(0,x.jsx)(u.Z,{onChange:f,type:"card",items:r})},Z=s(77832);var g=s(70881),S=s(83099),b=s(46988),y=s(50660),R=s(50792),k=s(87309),w=s(60814),I=s(20088),C=s(38935),D=s(67174),N=s(77846),P=s(49389),q=s(97892),_=s.n(q),E=s(18808),T=s.n(E),Y={};_().extend(T());var O=I.Z.RangePicker,A={rules:[{type:"array",required:!0,message:"Please select time!"}]};var F=function(e){var r=(0,l.useState)(0),s=(0,c.Z)(r,2),n=s[0],o=s[1],u=(0,l.useState)(!1),d=(0,c.Z)(u,2),v=d[0],m=d[1];function p(){return(p=(0,a.Z)((0,i.Z)().mark((function r(s){var t,a,c,n,l,u,d;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=_()(s.timePicker[0]).format("YYYY-MM-DD HH:mm:ss"),a=_()(s.timePicker[1]).format("YYYY-MM-DD HH:mm:ss"),console.log("Converted Time = ",t,a),c={customername:s.customername,customeraddress:s.customeraddress,starttime:t,endtime:a,description:s.description,serviceid:e.serviceid},console.log("Server Request = ",c),r.prev=5,r.next=8,(0,y.Ov)(c);case 8:if(n=r.sent,l=n.code,u=n.data,d=n.message,200==l){r.next=17;break}return console.log("Server Request ERROR, code = ",l,", message = ",d),o(3),setTimeout((function(){window.location.reload(),console.log("Times Up")}),3e3),r.abrupt("return");case 17:console.log("Server Request SUCCESS: data = ",u),o(2),setTimeout((function(){window.location.reload()}),3e3),r.next=28;break;case 22:r.prev=22,r.t0=r.catch(5),m(!0),console.log("Server Request ERROR: error = ",r.t0),setFetchState(3),setTimeout((function(){window.location.reload()}),3e3);case 28:case"end":return r.stop()}}),r,null,[[5,22]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){v&&b.ZP.error("Server error!")}),[v]),1==n?(0,x.jsx)(x.Fragment,{children:"Loading..."}):2==n?(0,x.jsx)(C.ZP,{status:"success",title:"Submition Success",subTitle:"Reload page in 3s..."}):3==n?(0,x.jsx)(C.ZP,{status:"error",title:"Submission Failed",subTitle:"Rload page in 3s..."}):(0,x.jsxs)("div",{className:Y.requestDescription,children:[(0,x.jsx)(D.Z,{layout:"horizontal",size:"small",children:(0,x.jsx)(D.Z.Item,{label:"Service ID",children:e.serviceid})}),(0,x.jsxs)(N.Z,{onFinish:function(e){console.log("Success:",e),o(1),function(e){p.apply(this,arguments)}(e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",labelCol:{span:5},labelAlign:"left",children:[(0,x.jsx)(N.Z.Item,{label:"Your Name",name:"customername",rules:[{required:!0,message:"Please input your username!"}],children:(0,x.jsx)(P.Z,{})}),(0,x.jsx)(N.Z.Item,(0,t.Z)((0,t.Z)({label:"Time Range",name:"timePicker",rules:[{required:!0,message:"Please input the service time range!"}]},A),{},{children:(0,x.jsx)(O,{placement:"bottomLeft",getPopupContainer:function(e){return e.parentNode},showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})})),(0,x.jsx)(N.Z.Item,{label:"Address",name:"customeraddress",rules:[{required:!0,message:"Please input your address!"}],children:(0,x.jsx)(P.Z,{})}),(0,x.jsx)(N.Z.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input description"}],children:(0,x.jsx)(P.Z.TextArea,{showCount:!0,maxLength:2e3})}),(0,x.jsx)(N.Z.Item,{wrapperCol:{offset:10,span:16},children:(0,x.jsx)(k.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})},L={};var M=function(e){var r=e.serviceid,s=(0,l.useState)(!1),t=(0,c.Z)(s,2),i=t[0],a=t[1];return(0,x.jsxs)("div",{className:L.popUpBox,children:[(0,x.jsx)(k.ZP,{block:!0,type:"primary",onClick:function(){a(!0)},children:"I WANT"}),(0,x.jsx)(w.Z,{className:L.popUp,open:i,title:"Request a Service",onCancel:function(){a(!1)},footer:null,children:(0,x.jsx)(F,{serviceid:r})})]})},H=function(e){var r=e.icon,s=e.text;return(0,x.jsxs)(S.Z,{children:[l.createElement(r),s]})};var U=function(){var e=(0,l.useState)(!1),r=(0,c.Z)(e,2),s=r[0],u=r[1],d=(0,l.useState)([{}]),v=(0,c.Z)(d,2),m=v[0],p=v[1],h=(0,l.useState)({}),f=(0,c.Z)(h,2),S=f[0],k=f[1],w=(0,n.TH)(),I=(0,l.useState)(!1),C=(0,c.Z)(I,2),D=C[0],N=C[1];(0,l.useEffect)((function(){D&&b.ZP.error("Server error!")}),[D]);var P=w.state.serviceid;function q(){return(q=(0,a.Z)((0,i.Z)().mark((function e(){var r,s,t,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Server Request (no  param)"),e.prev=1,e.next=4,(0,y.WI)();case 4:if(r=e.sent,s=r.code,t=r.data,a=r.message,200==s){e.next=11;break}return console.log("Server Request ERROR, code = ",s,", message = ",a),e.abrupt("return");case 11:console.log("Server Request SUCCESS: data = ",t),console.log("Service detail page categories = ",t),p(t),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),N(!0),console.log("Server Request ERROR: error = ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function _(){return(_=(0,a.Z)((0,i.Z)().mark((function e(){var r,s,a,c,n,o,l,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:P},console.log("Server Request = ",r),e.prev=2,e.next=5,(0,y.Wu)(r);case 5:if(s=e.sent,a=s.code,c=s.data,n=s.message,200==a){e.next=12;break}return console.log("Server Request ERROR, code = ",a,", message = ",n),e.abrupt("return");case 12:console.log("Server Request SUCCESS: data = ",c),o=c.Review,l=c["Review-Customer"],d=o.map((function(e){var r=l[e.reviewid].customerid,s=l[e.reviewid].email;return(0,t.Z)((0,t.Z)({},e),{},{customerid:r,email:s})})),c.Review=d,console.log("Converted data = ",c),k(c),u(!0),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),N(!0),console.log("Server Request ERROR: error = ",e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,22]])})))).apply(this,arguments)}return console.log("Clicked serviceid = ",P),(0,l.useEffect)((function(){!function(){q.apply(this,arguments)}()}),[]),(0,l.useEffect)((function(){!function(){_.apply(this,arguments)}()}),[]),s?(0,x.jsxs)("div",{className:o.serviceDetail,children:[(0,x.jsxs)("div",{className:o.part,children:[(0,x.jsx)("p",{className:o.serviceName,children:S.Service.servicename}),(0,x.jsxs)("p",{className:o.prociderId,children:["provider ID: ",S.Service.providerid]})]}),(0,x.jsx)("div",{className:o.part,children:(0,x.jsx)(Z.Z,{className:o.imgs,autoplay:!1,imgs:S.Service.photos})}),(0,x.jsxs)("div",{className:o.part,children:[(0,x.jsx)(R.Z,{service:S.Service,categoryOptions:m}),(0,x.jsx)(H,{icon:g.Z,text:S.Service.city})]}),(0,x.jsx)("div",{className:o.part,children:(0,x.jsx)(M,{serviceid:P})}),(0,x.jsx)("div",{className:o.part,children:(0,x.jsx)(j,{service:S.Service,reviews:S.Review})})]}):(0,x.jsx)("div",{className:o.serviceDetail,children:"Loading..."})}}}]);
//# sourceMappingURL=794.16d019ac.chunk.js.map