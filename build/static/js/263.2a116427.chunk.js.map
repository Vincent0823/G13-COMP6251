{"version":3,"file":"static/js/263.2a116427.chunk.js","mappings":"mLACA,EAA8B,iCAA9B,EAAqE,yB,WCwDrE,MApDA,SAAqBA,GACjB,IAAAC,GAA6BC,EAAAA,EAAAA,UAAS,CAAC,CAAEC,KAAM,GAAIC,IAAK,EAAGC,IAAK,MAAMC,GAAAC,EAAAA,EAAAA,GAAAN,EAAA,GAA/DO,EAASF,EAAA,GAAEG,EAAOH,EAAA,GACzBI,GAAqCR,EAAAA,EAAAA,WAAS,GAAMS,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA7CE,EAAaD,EAAA,GAAEE,EAAWF,EAAA,GAmCjC,OAhCAG,EAAAA,EAAAA,YAAU,WACND,EAAYb,EAAMe,UAClB,IAAIC,EAAO,GACX,GAA4B,kBAAhBhB,EAAMgB,KAEdA,EAAKC,KAAK,CACNb,IAAI,EACJD,KAAMH,EAAMgB,KACZX,IAAK,aAIT,IAAK,IAAIa,KAAKlB,EAAMgB,KAAM,CACtB,IAAIG,EAAM,CACNf,IAAKc,EACLf,KAAMH,EAAMgB,KAAKE,GACjBb,IAAI,GAADe,OAAIF,EAAC,OAEZF,EAAKC,KAAKE,EACd,CAEJV,EAAQO,EACZ,GAAG,KAWCK,EAAAA,EAAAA,KAACC,EAAAA,EAAQ,CACLC,UAAWC,EACXT,SAAUH,EACVa,cAtCY,IAuCZC,YAAY,SAAQC,SACnBnB,EAAUoB,KAAI,SAACT,GAAG,OACfE,EAAAA,EAAAA,KAAA,OAAmBQ,QAAS,kBAZXC,EAYqCX,EAAIf,SAVlE2B,QAAQC,IAAI,yBAA0BF,GAFd,IAACA,CAY6C,EAACH,UAC3DN,EAAAA,EAAAA,KAAA,OAAKE,UAAWC,EAAYS,IAAKd,EAAIhB,KAAME,IAAKc,EAAId,OAD9Cc,EAAIf,IAER,KAItB,C,yKCtDA,EAAyB,uBAAzB,EAAuD,qB,WCEpC8B,EAAAA,EAAAA,OAgInB,MA1HA,SAAgBlC,GACZ,IAAAmC,EAAeC,EAAAA,EAAAA,UAARC,GAAsB9B,EAAAA,EAAAA,GAAA4B,EAAA,GAAlB,GAEXlC,GAAmDC,EAAAA,EAAAA,UAAS,CAAC,CAAC,IAAGI,GAAAC,EAAAA,EAAAA,GAAAN,EAAA,GAA1DqC,EAAoBhC,EAAA,GAAEiC,EAAkBjC,EAAA,GAC/CI,GAA2CR,EAAAA,EAAAA,UAAS,IAAGS,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAhD8B,EAAgB7B,EAAA,GAAE8B,EAAc9B,EAAA,GACjC+B,GAAaC,EAAAA,EAAAA,MAEnBC,GAA8B1C,EAAAA,EAAAA,WAAS,GAAM2C,GAAAtC,EAAAA,EAAAA,GAAAqC,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GASF,SAAAG,IA8BvB,OA9BuBA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAxB,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAZ,EAAAA,EAAAA,KAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAC8C,OAA1CnC,QAAQC,IAAI,8BAA8BgC,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAGEC,EAAAA,EAAAA,MAAgB,KAAD,EAA1B,GAA0Bd,EAAAW,EAAAI,KAA7Cd,EAAID,EAAJC,KAAMC,EAAIF,EAAJE,KAAMc,EAAOhB,EAAPgB,QACN,KAARf,EAAW,CAAAU,EAAAE,KAAA,SACiE,OAA5EnC,QAAQC,IAAI,gCAAiCsB,EAAM,eAAgBe,GAASL,EAAAM,OAAA,kBAO5C,OAJpCvC,QAAQC,IAAI,kCAAmCuB,GAEzCE,EAAkBc,OAAOC,QAAQjB,GAAM3B,KAAI,SAAA6C,GAAA,IAAAC,GAAAnE,EAAAA,EAAAA,GAAAkE,EAAA,GAAEE,EAAKD,EAAA,GAAO,MAAO,CAAEE,MAATF,EAAA,GAAgBC,MAAAA,EAAO,IACtF5C,QAAQC,IAAI,+BAAgCyB,GAC5ClB,EAAmBkB,GAAiBO,EAAAE,KAAA,IAGAW,EAAAA,EAAAA,MAAY,KAAD,GAAtB,GAAsBnB,EAAAM,EAAAI,KAAzCd,EAAII,EAAJJ,KAAMC,EAAIG,EAAJH,KAAMc,EAAOX,EAAPW,QACN,KAARf,EAAW,CAAAU,EAAAE,KAAA,SACiE,OAA5EnC,QAAQC,IAAI,gCAAiCsB,EAAM,eAAgBe,GAASL,EAAAM,OAAA,kBAGhFvC,QAAQC,IAAI,kCAAmCuB,GACzCO,EAAcP,EAAK3B,KAAI,SAACkD,GAAQ,MAAM,CAAEF,MAAOE,EAAUH,MAAOG,EAAU,IAChF/C,QAAQC,IAAI,2BAA4B8B,GACxCrB,EAAeqB,GAAaE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAe,GAAAf,EAAA,SAGhCjB,GAAW,GACXhB,QAAQC,IAAI,iCAAgCgC,EAAAe,IAAS,yBAAAf,EAAAgB,OAAA,GAAA5B,EAAA,oBAE5D6B,MAAA,KAAAC,UAAA,CA6BD,OAlEApE,EAAAA,EAAAA,YAAU,WACFgC,GACAuB,EAAAA,GAAAA,MAAc,gBAEtB,GAAG,CAACvB,KAmCJhC,EAAAA,EAAAA,YAAU,YAjCV,WACwBkC,EAAAiC,MAAC,KAADC,UAAA,CAkCpBC,EACJ,GAAG,KAEHrE,EAAAA,EAAAA,YAAU,WAE2B,GAA7ByD,OAAOa,KAAKpF,GAAOqF,SACnBtD,QAAQC,IAAI,iBAAkBhC,GAC9BqC,EAAKiD,eAAe,CAEhBC,KAAMvF,EAAMwF,SACZC,WAAYzF,EAAM0F,iBAI9B,GAAG,CAACpD,KAYAjB,EAAAA,EAAAA,KAAA,OAAKE,UAAWC,EAAcG,UAC1BgE,EAAAA,EAAAA,MAACvD,EAAAA,EAAI,CACDb,UAAWC,EACXoE,OAAO,SACPC,OAAO,EACPxD,KAAMA,EACNyD,SAdK,SAACC,GACdhE,QAAQC,IAAI,iBAAkB+D,GAE9BrD,EAAW,8BAA+B,CAAEsD,MAAOD,GAEvD,EAS+BpE,SAAA,EAQnBN,EAAAA,EAAAA,KAACe,EAAAA,EAAAA,KAAS,CAEN6D,KAAK,aAAarB,MAAM,WAAWsB,MAAO,CAAC,CAAEC,UAAU,IAASxE,UAChEN,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CACHkE,YAAY,kBACZC,YAAU,EACVC,QAAShE,OAMjBjB,EAAAA,EAAAA,KAACe,EAAAA,EAAAA,KAAS,CAAC6D,KAAK,OAAOrB,MAAM,OAAOsB,MAAO,CAAC,CAAEC,UAAU,IAASxE,UAC7DN,EAAAA,EAAAA,KAACa,EAAAA,EAAM,CACHkE,YAAY,cACZC,YAAU,EACVC,QAAS9D,OAQjBnB,EAAAA,EAAAA,KAACe,EAAAA,EAAAA,KAAS,CAAAT,UACNN,EAAAA,EAAAA,KAACkF,EAAAA,GAAM,CAACC,KAAK,UAAUC,SAAS,SAAQ9E,SAAC,iBAK7D,C,+FChIA,GAAgB,iBAAmB,2CAA2C,MAAQ,iC,uDCkCtF,MA3BA,WAGI,OAFAI,QAAQC,IAAI0E,eAAeC,QAAQ,WACpBhE,EAAAA,EAAAA,OAEXgD,EAAAA,EAAAA,MAAA,OAAKpE,UAAWC,EAAAA,iBAAwBG,SAAA,EACpCgE,EAAAA,EAAAA,MAACiB,EAAAA,EAAG,CAAAjF,SAAA,EACAN,EAAAA,EAAAA,KAACwF,EAAAA,EAAG,CAACC,KAAM,EAAEnF,UACTN,EAAAA,EAAAA,KAAA,KAAGE,UAAWC,EAAAA,MAAaG,SAAC,8BAEhCN,EAAAA,EAAAA,KAACwF,EAAAA,EAAG,CAACC,KAAM,EAAEnF,UACTN,EAAAA,EAAAA,KAACkF,EAAAA,GAAM,CAAEC,KAAM,UAAWO,MAAO,CAACC,UAAU,IAAKnF,QAAS,WAAKoF,OAAOC,SAASC,KAAK,uBAAuB,EAAExF,SAAE,4BAIvHN,EAAAA,EAAAA,KAAC+F,EAAAA,EAAa,CACd7F,UAAWC,EAAAA,iBAEXH,EAAAA,EAAAA,KAAA,KAAGE,UAAWC,EAAAA,MAAaG,SAAC,gBAC5BN,EAAAA,EAAAA,KAACgG,EAAAA,EAAW,CAACtG,UAAU,EAAMC,KAAM,CAC/B,8IACA,2EACA,sGAKhB,C","sources":["webpack://my-project/./src/components/CarouselBox/CarouselBox.module.scss?c20e","components/CarouselBox/index.jsx","webpack://my-project/./src/components/ServiceSearch/search.module.scss?41df","components/ServiceSearch/index.jsx","webpack://my-project/./src/views/Customer/CustomerMainPage/customerMainPage.module.scss?47ec","views/Customer/CustomerMainPage/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"carouselBox\":\"CarouselBox_carouselBox__YtwBr\",\"img\":\"CarouselBox_img__M-xLl\"};","import { useEffect, useState } from \"react\"\r\nimport { Carousel } from 'antd';\r\nimport styles from \"./CarouselBox.module.scss\"\r\n\r\n//props:{autoplay?:boolean, imgs?:[]:string[]}\r\nfunction CarouselBox(props) {\r\n    const [stateImgs, setImgs] = useState([{ path: \"\", key: 1, alt: \"\" }]);\r\n    const [stateAutoplay, setAutoplay] = useState(false);\r\n    let autoplaySpeed = 2000;\r\n\r\n    useEffect(() => {\r\n        setAutoplay(props.autoplay);\r\n        let imgs = [];\r\n        if (typeof (props.imgs) !== \"object\") {\r\n            //Just a picture that's not an array\r\n            imgs.push({\r\n                key:0,\r\n                path: props.imgs,\r\n                alt: \"0th\"\r\n            })\r\n        } else {\r\n            //It's an array of pictures\r\n            for (let i in props.imgs) {\r\n                let img = {\r\n                    key: i,\r\n                    path: props.imgs[i],\r\n                    alt:`${i}th`\r\n                };\r\n                imgs.push(img);\r\n            }\r\n        }\r\n        setImgs(imgs);\r\n    }, []);\r\n\r\n\r\n\r\n    //index: number\r\n    const handleCarouselClick = (index) => {\r\n        //Clicking on a Carousel\r\n        console.log(\"User click img number \", index);\r\n    }\r\n\r\n    return (\r\n        <Carousel\r\n            className={styles.carouselBox}\r\n            autoplay={stateAutoplay}\r\n            autoplaySpeed={autoplaySpeed}\r\n            dotPosition='bottom'>\r\n            {stateImgs.map((img) => (\r\n                <div key={img.key} onClick={() => handleCarouselClick(img.key)}>\r\n                    <img className={styles.img} src={img.path} alt={img.alt} />\r\n                </div>\r\n            ))}\r\n        </Carousel>\r\n    );\r\n}\r\n\r\nexport default CarouselBox;","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"search_search__aPDqM\",\"form\":\"search_form__AE5mJ\"};","import { useEffect, useState } from 'react';\r\nimport { message, Button, Form, Input, Select } from 'antd';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst { Option } = Select;\r\nimport { $categoryList, $cityList } from '../../api/adminApi';\r\nimport styles from \"./search.module.scss\"\r\n\r\n//服务搜索栏（里面有只能给服务搜索用的跳转，不能直接用来做其他搜索）\r\n//type props: { initSearchInput?: string, initcategoryid?: number, initCity?: string }\r\nfunction Search(props) {\r\n    const [form] = Form.useForm();\r\n    //const [stateCityOptions, setCityOptions] = useState([{}]);\r\n    const [stateCategoryOptions, setCategoryOptions] = useState([{}]);\r\n    const [stateCityOptions, setCityOptions] = useState([]);\r\n    const navigateTo = useNavigate();\r\n\r\n    const [isError, setIsError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isError) {\r\n            message.error('Server error!');\r\n        }\r\n    }, [isError]);\r\n\r\n    //向后端请求 category表和city表 数据\r\n    async function fetchData() {\r\n        console.log(\"Server Request (no  param)\");\r\n        try {\r\n            {\r\n                let { code, data, message } = await $categoryList();\r\n                if (code != 200) {\r\n                    console.log(\"Server Request ERROR, code = \", code, \", message = \", message);\r\n                    return;\r\n                }\r\n                console.log(\"Server Request SUCCESS: data = \", data);\r\n                //options:[{categoryname:String, categoryid:number}]\r\n                const categoryOptions = Object.entries(data).map(([value, label]) => ({ label, value }));\r\n                console.log(\"Service search categories = \", categoryOptions);\r\n                setCategoryOptions(categoryOptions);\r\n            }\r\n            {\r\n                let { code, data, message } = await $cityList();\r\n                if (code != 200) {\r\n                    console.log(\"Server Request ERROR, code = \", code, \", message = \", message);\r\n                    return;\r\n                }\r\n                console.log(\"Server Request SUCCESS: data = \", data);\r\n                const cityOptions = data.map((cityName) => ({ label: cityName, value: cityName }));\r\n                console.log(\"Service search cities = \", cityOptions);\r\n                setCityOptions(cityOptions);\r\n            }\r\n        } catch (error) {\r\n            setIsError(true);\r\n            console.log(\"Server Request ERROR: error = \", error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        //加载category options\r\n        fetchData();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        //加载预填写数据（以保持search栏中显示不变）\r\n        if (Object.keys(props).length != 0) {//如果有传来预填写数据\r\n            console.log(\"load init data\", props);\r\n            form.setFieldsValue({\r\n                //searchInput: props.initSearchInput,\r\n                city: props.initCity,\r\n                categoryid: props.initCategoryid\r\n            });\r\n            //initValues有bug，写不了活的，所以用了setFieldsValue\r\n        }\r\n    }, [stateCategoryOptions]);\r\n\r\n\r\n    //type values: { searchInput: string, categoryid: number, city: string }\r\n    const onFinish = (values) => {\r\n        console.log('Submit Search:', values);\r\n        //带着输入信息跳转到SearchResultPage\r\n        navigateTo(\"/servicesearch/searchresult\", { state: values });\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={styles.search}>\r\n            <Form\r\n                className={styles.form}\r\n                layout=\"inline\"\r\n                colon={false}\r\n                form={form}\r\n                onFinish={onFinish}\r\n            >\r\n                {/* 搜索框输入 */}\r\n                {/* <Form.Item name=\"searchInput\" label=\"Search\">\r\n                    <Input placeholder=\"input placeholder\" />\r\n                </Form.Item> */}\r\n\r\n                {/* 品类选择 */}\r\n                <Form.Item\r\n\r\n                    name=\"categoryid\" label=\"Category\" rules={[{ required: false }]}>\r\n                    <Select\r\n                        placeholder=\"Select category\"\r\n                        allowClear\r\n                        options={stateCategoryOptions}\r\n                    >\r\n                    </Select>\r\n                </Form.Item>\r\n\r\n                {/* 城市选择 （写活范例（已注掉）） ERRORXX 改成表*/}\r\n                <Form.Item name=\"city\" label=\"City\" rules={[{ required: false }]}>\r\n                    <Select\r\n                        placeholder=\"Select city\"\r\n                        allowClear\r\n                        options={stateCityOptions}\r\n                    >\r\n                        {/* <Option value=\"Southampton\">Southampton</Option>\r\n                        <Option value=\"London\">London</Option>\r\n                        <Option value=\"Manchester\">Manchester</Option> */}\r\n                    </Select>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">Search</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;","// extracted by mini-css-extract-plugin\nexport default {\"customerMainPage\":\"customerMainPage_customerMainPage__eSa8F\",\"title\":\"customerMainPage_title__6h9YW\"};","import ServiceSearch from \"../../../components/ServiceSearch\"\r\nimport CarouselBox from \"../../../components/CarouselBox\"\r\nimport styles from \"./customerMainPage.module.scss\"\r\nimport {Row,Col,Button} from 'antd'\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\n\r\n//用户主页\r\nfunction CustomerMainPage() {\r\n    console.log(sessionStorage.getItem('token'));\r\n    let navigate = useNavigate()\r\n    return (\r\n        <div className={styles.customerMainPage}>\r\n            <Row>\r\n                <Col span={7}>\r\n                    <p className={styles.title}>Find the right service</p>\r\n                </Col>\r\n                <Col span={7}>\r\n                    <Button  type={'primary'} style={{marginTop:30}} onClick={()=>{window.location.href=\"http://localhost:3001\"}} >Find in GoogleMap</Button>\r\n                </Col>\r\n            </Row>\r\n\r\n            <ServiceSearch \r\n            className={styles.serviceSearch}/>\r\n\r\n            <p className={styles.title}>Promotions</p>\r\n            <CarouselBox autoplay={true} imgs={[\r\n                \"https://static.vecteezy.com/system/resources/previews/000/186/629/original/bright-sale-banner-design-vector-template-for-your-promotion.jpg\",\r\n                \"https://th.bing.com/th/id/OIP.jrBmbUTdVIT9me5yCcMGzwAAAA?pid=ImgDet&rs=1\",\r\n                \"https://th.bing.com/th/id/R.134502b1716e032309a6f251e90e4674?rik=H1DW6lt0YG4RVw&pid=ImgRaw&r=0\"\r\n            ]} />\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default CustomerMainPage"],"names":["props","_useState","useState","path","key","alt","_useState2","_slicedToArray","stateImgs","setImgs","_useState3","_useState4","stateAutoplay","setAutoplay","useEffect","autoplay","imgs","push","i","img","concat","_jsx","Carousel","className","styles","autoplaySpeed","dotPosition","children","map","onClick","index","console","log","src","Select","_Form$useForm","Form","form","stateCategoryOptions","setCategoryOptions","stateCityOptions","setCityOptions","navigateTo","useNavigate","_useState5","_useState6","isError","setIsError","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$$categoryList","code","data","_message","categoryOptions","_yield$$cityList","_code","_data","_message2","cityOptions","wrap","_context","prev","next","$categoryList","sent","message","abrupt","Object","entries","_ref","_ref2","value","label","$cityList","cityName","t0","stop","apply","arguments","fetchData","keys","length","setFieldsValue","city","initCity","categoryid","initCategoryid","_jsxs","layout","colon","onFinish","values","state","name","rules","required","placeholder","allowClear","options","Button","type","htmlType","sessionStorage","getItem","Row","Col","span","style","marginTop","window","location","href","ServiceSearch","CarouselBox"],"sourceRoot":""}